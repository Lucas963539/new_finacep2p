{"name": "test_register[18911112222-test123-8888-666666-注册成功]", "status": "failed", "statusDetails": {"message": "AssertionError: assert '注册成功' in '{\"status\":100,\"description\":\"手机已存在!\"}'\n +  where '{\"status\":100,\"description\":\"手机已存在!\"}' = <Response [200]>.text", "trace": "self = <script.test_register_login.TestRegisterLogin object at 0x1115d1e20>, phone = '18911112222', password = 'test123', imgVerifyCode = '8888', phone_code = '666666'\nexpect_text = '注册成功'\n\n    @allure.story(\"注册接口  测试\")\n    @pytest.mark.parametrize(\"phone, password, imgVerifyCode, phone_code,expect_text\", read_json(\"register_login_data.json\", \"register\"))\n    def test_register(self, phone, password, imgVerifyCode, phone_code,expect_text):\n        try:\n            with allure.step(\"1.调用获取图片验证码接口\"):\n                self.reg.api_get_img_code(12)\n            with allure.step(\"2.调取获取短信验证码接口\"):\n                self.reg.api_get_phone_code(phone=phone, imgVerifyCode=imgVerifyCode)\n            with allure.step(\"3.调取注册接口\"):\n                result = self.reg.api_register(\n                    phone=phone,\n                    password=password,\n                    verifycode=imgVerifyCode,\n                    phone_code=phone_code,\n                )\n                log.info(f'执行结果为：{result.text}')\n            with allure.step(\"3.断言响应文本信息\"):\n>               assert expect_text in result.text\nE               assert '注册成功' in '{\"status\":100,\"description\":\"手机已存在!\"}'\nE                +  where '{\"status\":100,\"description\":\"手机已存在!\"}' = <Response [200]>.text\n\nscript/test_register_login.py:97: AssertionError"}, "steps": [{"name": "1.创建session对象", "status": "passed", "start": 1674186553196, "stop": 1674186553196}, {"name": "2.实例化ApiRegisterLogin对象", "status": "passed", "start": 1674186553196, "stop": 1674186553196}, {"name": "1.调用获取图片验证码接口", "status": "passed", "start": 1674186553197, "stop": 1674186553359}, {"name": "2.调取获取短信验证码接口", "status": "passed", "start": 1674186553359, "stop": 1674186553456}, {"name": "3.调取注册接口", "status": "passed", "start": 1674186553456, "stop": 1674186553525}, {"name": "3.断言响应文本信息", "status": "failed", "statusDetails": {"message": "AssertionError: assert '注册成功' in '{\"status\":100,\"description\":\"手机已存在!\"}'\n +  where '{\"status\":100,\"description\":\"手机已存在!\"}' = <Response [200]>.text\n", "trace": "  File \"/Users/jiangcheng/PycharmProjects/new_finacep2p/script/test_register_login.py\", line 97, in test_register\n    assert expect_text in result.text\n"}, "start": 1674186553525, "stop": 1674186553526}, {"name": "关闭session", "status": "passed", "start": 1674186553614, "stop": 1674186553614}], "attachments": [{"name": "log", "source": "9adaa427-da3f-4cad-9fb4-c34dd90b584c-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "phone", "value": "'18911112222'"}, {"name": "password", "value": "'test123'"}, {"name": "imgVerifyCode", "value": "'8888'"}, {"name": "phone_code", "value": "'666666'"}, {"name": "expect_text", "value": "'注册成功'"}], "start": 1674186553197, "stop": 1674186553544, "uuid": "8319de84-9498-459e-b165-50156b89f5ef", "historyId": "5b3a8d9b0ebea1630cf230c3cb540ea5", "testCaseId": "b343577449654520315a9cedb0af50b9", "fullName": "script.test_register_login#test_register", "labels": [{"name": "feature", "value": "登录注册模块"}, {"name": "epic", "value": "金融P2P"}, {"name": "story", "value": "注册接口  测试"}, {"name": "parentSuite", "value": "script"}, {"name": "suite", "value": "test_register_login"}, {"name": "subSuite", "value": "TestRegisterLogin"}, {"name": "host", "value": "jiangtaodeMacBook-Pro.local"}, {"name": "thread", "value": "78028-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "script.test_register_login"}]}